<svelte:options runes />

<ClassAdder
  _smuiClass="mdc-dialog__title"
  tag="h2"
  bind:this={element as ReturnType<C>}
  {...restProps}>{@render children?.()}</ClassAdder
>

<script
  lang="ts"
  generics="T extends SmuiEveryElement = keyof SmuiElementPropMap, C extends SmuiComponent = SmuiComponent"
>
  import type { ComponentProps, Snippet } from 'svelte';
  import { getContext } from 'svelte';
  import type {
    SmuiComponent,
    SmuiElementPropMap,
    SmuiEveryElement,
  } from '@smui/common';
  import { ClassAdder } from '@smui/common/classadder';

  type OwnProps = {
    children?: Snippet;
  };
  let { children, ...restProps }: OwnProps & ComponentProps<ClassAdder<T, C>> =
    $props();

  let element: ReturnType<C>;

  let setFullscreenTitleless = getContext<
    ((value: boolean) => void) | undefined
  >('SMUI:dialog:setFullscreenTitleless');

  if (setFullscreenTitleless != null) {
    setFullscreenTitleless(false);
  }

  export function getElement() {
    return element.getElement();
  }
</script>
