<Kitchen bind:this={kitchen} dismiss$tag="svg" dismiss$viewBox="0 0 24 24">
  <path slot="dismiss" fill="currentColor" d={mdiCloseCircle} />
</Kitchen>

<Button on:click={pushToKitchen}><Label>Push a New Snackbar</Label></Button>

<pre class="status">Closed Reason: {reason}</pre>
<pre class="status">Action: {action}</pre>

<script context="module" lang="ts">
  let counter = 0;
</script>

<script lang="ts">
  import { mdiCloseCircle } from '@mdi/js';
  import Kitchen from '@smui/snackbar/kitchen';
  import Button, { Label } from '@smui/button';

  let kitchen: Kitchen<undefined, 'svg'>;
  let reason = 'nothing yet';
  let action = 'nothing yet';

  function pushToKitchen() {
    kitchen.push({
      props: {
        variant: 'stacked',
      },
      label:
        "This is a snackbar generated by the custom icon kitchen. Here's a counter: " +
        ++counter,
      actions: [
        {
          onClick: () => (action = 'Something'),
          text: 'Something',
        },
        {
          onClick: () => (action = 'Another'),
          text: 'Another',
        },
      ],
      dismissButton: true,
      onDismiss: () => (action = 'Dismissed'),
      onClose: (e) => {
        reason = e.detail.reason ?? 'Undefined.';
      },
    });
  }
</script>
