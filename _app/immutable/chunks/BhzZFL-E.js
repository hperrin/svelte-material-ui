import"./Bzak7iHL.js";import{b as B,s as j}from"./Bu45w55_.js";import{p as H,i as w,v as g,d as G,g as e,s as x,h as p,c as X,f as q,n as z,b as V,e as J}from"./BwguTo01.js";import{p as A,b as Q,c as W,r as Y}from"./CMyoTnZX.js";import{_ as Z,a as R,M as $,p as ee,d as v}from"./qG3zDIF3.js";import{c as te}from"./DBhbQkAD.js";import{M as ne,a as re}from"./DK4z1Ucg.js";import{c as y}from"./cRYY72xe.js";/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var E={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},f={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".mdc-list,.mdc-deprecated-list",SELECTED_EVENT:"MDCMenu:selected",SKIP_RESTORE_FOCUS:"data-menu-item-skip-restore-focus"},ie={FOCUS_ROOT_INDEX:-1},I;(function(u){u[u.NONE=0]="NONE",u[u.LIST_ROOT=1]="LIST_ROOT",u[u.FIRST_ITEM=2]="FIRST_ITEM",u[u.LAST_ITEM=3]="LAST_ITEM"})(I||(I={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var se=(function(u){Z(r,u);function r(s){var o=u.call(this,R(R({},r.defaultAdapter),s))||this;return o.closeAnimationEndTimerId=0,o.defaultFocusState=I.LIST_ROOT,o.selectedIndex=-1,o}return Object.defineProperty(r,"cssClasses",{get:function(){return E},enumerable:!1,configurable:!0}),Object.defineProperty(r,"strings",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(r,"numbers",{get:function(){return ie},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},getAttributeFromElementAtIndex:function(){return null},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){this.closeAnimationEndTimerId&&clearTimeout(this.closeAnimationEndTimerId),this.adapter.closeSurface()},r.prototype.handleKeydown=function(s){var o=s.key,l=s.keyCode,c=o==="Tab"||l===9;c&&this.adapter.closeSurface(!0)},r.prototype.handleItemAction=function(s){var o=this,l=this.adapter.getElementIndex(s);if(!(l<0)){this.adapter.notifySelected({index:l});var c=this.adapter.getAttributeFromElementAtIndex(l,f.SKIP_RESTORE_FOCUS)==="true";this.adapter.closeSurface(c),this.closeAnimationEndTimerId=setTimeout(function(){var m=o.adapter.getElementIndex(s);m>=0&&o.adapter.isSelectableItemAtIndex(m)&&o.setSelectedIndex(m)},ne.numbers.TRANSITION_CLOSE_DURATION)}},r.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState){case I.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case I.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case I.NONE:break;default:this.adapter.focusListRoot();break}},r.prototype.setDefaultFocusState=function(s){this.defaultFocusState=s},r.prototype.getSelectedIndex=function(){return this.selectedIndex},r.prototype.setSelectedIndex=function(s){if(this.validatedIndex(s),!this.adapter.isSelectableItemAtIndex(s))throw new Error("MDCMenuFoundation: No selection group at specified index.");var o=this.adapter.getSelectedSiblingOfItemAtIndex(s);o>=0&&(this.adapter.removeAttributeFromElementAtIndex(o,f.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(o,E.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(s,E.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(s,f.ARIA_CHECKED_ATTR,"true"),this.selectedIndex=s},r.prototype.setEnabled=function(s,o){this.validatedIndex(s),o?(this.adapter.removeClassFromElementAtIndex(s,y.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(s,f.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(s,y.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(s,f.ARIA_DISABLED_ATTR,"true"))},r.prototype.validatedIndex=function(s){var o=this.adapter.getMenuItemCount(),l=s>=0&&s<o;if(!l)throw new Error("MDCMenuFoundation: No list item at specified index.")},r})($);function Ie(u,r){H(r,!0);const{closest:s}=ee;let o=A(r,"use",19,()=>[]),l=A(r,"class",3,""),c=A(r,"open",15,!1),m=A(r,"anchorElement",15),C=A(r,"managed",3,!1),U=Y(r,["$$slots","$$events","$$legacy","use","class","open","anchorElement","managed","children"]),T,d=x(void 0),h=x(void 0),i=x(void 0);w("SMUI:menu-surface:mount",t=>{e(h)||p(h,t,!0)});const L=g("SMUI:list:mount");w("SMUI:list:mount",t=>{e(i)||p(i,t,!0),L&&L(t)});const O=g("SMUI:menu:mount"),b=g("SMUI:menu:unmount");B(()=>(p(d,new se({addClassToElementAtIndex:(t,n)=>{if(e(i)==null)throw new Error("List accessor is undefined.");e(i).addClassForElementIndex(t,n)},removeClassFromElementAtIndex:(t,n)=>{if(e(i)==null)throw new Error("List accessor is undefined.");e(i).removeClassForElementIndex(t,n)},addAttributeToElementAtIndex:(t,n,a)=>{if(e(i)==null)throw new Error("List accessor is undefined.");e(i).setAttributeForElementIndex(t,n,a)},removeAttributeFromElementAtIndex:(t,n)=>{if(e(i)==null)throw new Error("List accessor is undefined.");e(i).removeAttributeForElementIndex(t,n)},getAttributeFromElementAtIndex:(t,n)=>{if(e(i)==null)throw new Error("List accessor is undefined.");return e(i).getAttributeFromElementIndex(t,n)},elementContainsClass:(t,n)=>t.classList.contains(n),closeSurface:t=>{var n;C()||((n=e(h))==null||n.closeProgrammatic(t),v(_(),"SMUIMenuClosedProgrammatically"))},getElementIndex:t=>{if(e(i)==null)throw new Error("List accessor is undefined.");return e(i).getOrderedList().map(n=>n.element).indexOf(t)},notifySelected:t=>{if(e(i)==null)throw new Error("List accessor is undefined.");v(_(),"SMUIMenuSelected",{index:t.index,item:e(i).getOrderedList()[t.index].element})},getMenuItemCount:()=>{if(e(i)==null)throw new Error("List accessor is undefined.");return e(i).items.length},focusItemAtIndex:t=>{if(e(i)==null)throw new Error("List accessor is undefined.");e(i).focusItemAtIndex(t)},focusListRoot:()=>{if(e(i)==null)throw new Error("List accessor is undefined.");"focus"in e(i).element&&e(i).element.focus()},isSelectableItemAtIndex:t=>{if(e(i)==null)throw new Error("List accessor is undefined.");return!!s(e(i).getOrderedList()[t].element,`.${E.MENU_SELECTION_GROUP}`)},getSelectedSiblingOfItemAtIndex:t=>{if(e(i)==null)throw new Error("List accessor is undefined.");const n=e(i).getOrderedList(),a=s(n[t].element,`.${E.MENU_SELECTION_GROUP}`),S=a==null?void 0:a.querySelector(`.${E.MENU_SELECTED_LIST_ITEM}`);return S?n.map(M=>M.element).indexOf(S):-1}}),!0),O&&O(e(d)),e(d).init(),()=>{var t;b&&e(d)&&b(e(d)),(t=e(d))==null||t.destroy()}));function F(t){e(d)&&e(d).handleKeydown(t)}function N(){return c()}function D(t){c(t)}function k(t){if(e(d)==null)throw new Error("Instance is undefined.");e(d).setDefaultFocusState(t)}function P(){if(e(d)==null)throw new Error("Instance is undefined.");return e(d).getSelectedIndex()}function K(){return T}function _(){return T.getElement()}{let t=J(()=>te({"mdc-menu":!0,[l()]:!0}));Q(re(u,W({get use(){return o()},get class(){return e(t)},get managed(){return C()}},()=>U,{onkeydown:n=>{var a;F(n),(a=r.onkeydown)==null||a.call(r,n)},onSMUIMenuSurfaceOpened:n=>{var a;e(d)&&e(d).handleMenuSurfaceOpened(),(a=r.onSMUIMenuSurfaceOpened)==null||a.call(r,n)},onSMUIListAction:n=>{var a;e(d)&&e(i)&&e(d).handleItemAction(e(i).getOrderedList()[n.detail.index].element),(a=r.onSMUIListAction)==null||a.call(r,n)},get open(){return c()},set open(n){c(n)},get anchorElement(){return m()},set anchorElement(n){m(n)},children:(n,a)=>{var S=X(),M=q(S);j(M,()=>r.children??z),V(n,S)},$$slots:{default:!0}})),n=>T=n,()=>T)}return G({isOpen:N,setOpen:D,setDefaultFocusState:k,getSelectedIndex:P,getMenuSurface:K,getElement:_})}export{Ie as M};
